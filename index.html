<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <script src="//cdn.jsdelivr.net/npm/eruda"></script>
    <script>
        eruda.init();
    </script> -->
    <title>Dao3 Static Helper</title>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <h1>Dao3 Static 工具</h1>
    <!-- <h2>读取</h2>
    输入Hash(不带后缀名): <br>
    <input type="text" id="read"><br>
    <button onclick="read()">读取</button><br>
    <h2>上传</h2>
    <h3>上传文本</h3>
    在这里输入上传的文本: <br>
    <textarea id="text" cols="30" rows="10"></textarea><br>
    <button onclick="postText()">上传文本</button><br>
    <h3>上传文件</h3>
    <input type="file" multiple="false" id="file" onchange="postFile()"><br>
    <h3>上传结果</h3>
    <code id="result"></p> -->

    <div class="menu read">
        <h2 class="title">通过Hash读取文件</h2>
        <form id="readHashForm">
            <p class="labal">Hash: </p>
            <input type="text" id="readHash"/>
            <input type="submit" value="获取"/>
        </form>
        <p class="tip"></p>
        <button id="open">在新窗口打开</button>
        <div class="preview flex-column">
            <button class="change-preview-vis">显示/隐藏预览</button>
            <iframe src="" class="frame hidden"></iframe>            
        </div>
        <button id="download">下载</button>
        <p>
            因为搬砖偷懒，接收到的文件类型全都是文本<br/>
            如果你打开的是一个图片，下面的预览可能会崩溃<br/>
            正在考虑加入通过文件内容识别文件类型的功能<br/>
            所以建议从新窗口打开，浏览器会帮你做好一切事情<br/>
            （明明上传的时候告诉搬砖是什么类型的，他居然不肯记住qwq）
        </p>
    </div>

    <div class="menu postText">
        <h2 class="title">上传文本</h2>
        <form id="postTextForm">
            <p class="labal">输入文本: </p>
            <textarea id="postText"></textarea>
            <input type="submit" value="上传"/>
        </form>
        <p class="tip"></p>
    </div>

    <div class="menu postFile">
        <h2 class="title">上传文件</h2>
        <form id="postFileForm">
            <p>点击按钮上传或直接将文件拖拽到下方</p>
            <input type="file" id="postFile" />
            <div class="preview flex-column">
                <button class="change-preview-vis">显示/隐藏预览</button>
                <iframe src="" class="frame hidden"></iframe>            
            </div>
            <button type="submit">上传</button>
        </form>
        <p class="tip"></p>
    </div>

    <script src="index.js" type="module" refer></script>
</body>

</html>